{% extends get_module_path('templating') ~ "/templates/misc/block.html.twig" %}
    {% block templating_content %}

    {% set item_name = 'block--staydirect-showcase-full.html' %} 
    {% set path_css = directory ~ '/templates/templating/css/'~ item_name ~'.css' %}
    {% set css = include(path_css) %} 
    {{render_css(css,'block__staydirect_showcase_full')}}
        <!-- bloc showcase-->

                <!-- done -->
        <!-- bloc showcase-->
        {% set c = block_parser(content) %}
        {% set paragraphs = c['field_paragraph3'] %}
        {% set paragraphs_length = paragraphs|length %}

        <style>
            /*========= respo.css header =======*/
                    *,
            *::after,
            *::before {
                box-sizing: border-box ;
                margin: 0 ;
                padding: 0;
            }

            * {
                scroll-behavior: smooth  !important;
            }

            :root {
                --grey-color: #333333  !important;
                --whitesmoke6-color: #f5f5f5  !important;
                --whitesmoke6-color: #F6F6F6  !important;
                --Charcoal1-color: #434343  !important;
                --charcoal2-color: #3F3F3F  !important;
                --white-color: #fbfbfb  !important;
                --bgwhite-color: #ffffff  !important;
            }
            .block {
                display: block  !important;
            }

        
            p {
                color: rgba(51, 51, 51, 0.50)   !important;
                font-size: 18px  !important;
                font-family: "Kanit"  !important;
                font-weight: 400  !important;
            }

            a {
                text-decoration: none  !important;
            }

            .a-btn-resp {
                color: #333  !important;
                font-size: 20px  !important;
                font-family: "Kanit"  !important;
                font-weight: 600  !important;
                display: inline-flex  !important;
                padding: 10px 30px  !important;
                align-items: center  !important;
                gap: 10px  !important;
                border-radius: 10px  !important;
                border: 1px solid #333  !important;
            }

            .text-left {
                text-align: left  !important;
            }
            .text-right {
                text-align: right  !important;
            }

            .text-center {
                text-align: center  !important;
            }

            .auto {
                margin:auto !important;
            }

            .no-margin-top {
                margin-top: 0 !important;
            }
            hr {
                margin: 1rem 0  !important;
                color: inherit  !important;
                border: 0  !important;
                border-top: var(--bs-border-width) solid  !important;
                opacity: .25  !important;
            }
            .hr-title-resp {
                width: 128px  !important;
                height: 5px  !important;
                background: var(--grey-color)   !important;
                border-radius: 12px  !important;
                opacity: 1  !important;
                margin-top: 20px   !important;
                margin: auto  !important;
            }
            li {
                list-style-type: none  !important;
            }
            .bg-center-resp {
                background-repeat:no-repeat   !important;
                background-position: center center   !important;
                background-size: cover   !important;

            }
            .grow { transition: all .2s ease-in-out  !important; }
            .grow:hover { transform: scale(1.0025,1.0025)  !important; }

            .template--resp {
                height: 100px  !important;
            }
            
            @media screen and (max-width: 499.96px){ 
                .container-resp {
                    min-width: 320px   !important;
                    padding-left: 20px  !important;
                    padding-right:20px  !important;
                    margin: auto  !important;
                }
                .none-mob {
                    display: none !important;
                }
            }
            @media (min-width: 499.98px) {
                .container-resp {
                    max-width: 500px  !important;
                    width: 100%   !important;
                    padding-left: 20px   !important;
                    padding-right: 20px   !important;
                    margin: auto  !important;
                }
                .none-mob {
                    display: none !important;
                }
            }
            @media (min-width: 539.98px) {
                .container-resp {
                    max-width: 500px  !important;
                    width: 100%   !important;
                    padding-left: 0px   !important;
                    padding-right: 0px   !important;
                    margin: auto  !important;
                }
                .none-tab {
                    display: none !important;
                }
            }
            @media (min-width: 767.98px) {
                .container-resp {
                    max-width: 768px  !important;
                    width: 100%   !important;
                    padding-left: 40px   !important;
                    padding-right: 40px   !important;
                    margin: auto  !important;
                }
                .none-tab {
                    display: none !important;
                }
                .none-desk {
                    display: block !important;
                }
            }
            @media (min-width: 847.98px) {
                .container-resp {
                    max-width: 769px  !important;
                    width: 100%   !important;
                    padding-left: 40px   !important;
                    padding-right: 40px   !important;
                    margin: auto  !important;
                }
                .none-tab {
                    display: block !important;
                }
                .none-mob {
                    display: block !important;
                }
                .none-desk {
                    display: none !important;
                }
            }
            @media (min-width: 991.98px) {
                .container-resp {
                    max-width: 992px  !important;
                    width: 100%   !important;
                    padding-left: 60px   !important;
                    padding-right: 60px   !important;
                    margin: auto  !important;
                }
                .none-desk {
                    display: none !important;
                }
            }
            @media (min-width: 1111.98px) {
                .container-resp {
                    max-width: 992px   !important;
                    width: 100%   !important;
                    padding-left: 0px   !important;
                    padding-right: 0px   !important;
                    margin: auto  !important;
                }
                .none-desk {
                    display: none !important;
                }
            }
            @media (min-width: 1199.98px) {
                .container-resp {
                    max-width: 1200px   !important;
                    width: 100%   !important;
                    padding-left: 60px   !important;
                    padding-right: 60px   !important;
                    margin: auto  !important;
                }
                .none-desk {
                    display: none !important;
                }
            }
            @media (min-width: 1359.98px) {
                .container-resp {
                    max-width: 1200px   !important;
                    width: 100%   !important;
                    padding-left: 0   !important;
                    padding-right: 0   !important;
                    height: auto  !important;
                    margin: auto  !important;
                }
                .none-desk {
                    display: none !important;
                }
            }
        /* ============= end respo.css header ================  */
        </style> 
        <style>
        .showcase-resp {
            margin-top: 0px  !important;
        }
        .showcase-resp .container-resp {
        
        }
        .showcase-resp  .content-showcase-resp-head {
            text-align: center !important;
            max-width: 742px !important;
            margin: auto  !important;
            margin-bottom: 98px  !important;
        }
        .showcase-resp  .content-showcase-resp-head h4 {
            color: rgba(51, 51, 51, 0.60) !important;
            text-align: center !important;
            font-family: "Kanit" !important;
            font-size: 20px !important;
            font-style: normal !important;
            font-weight: 300 !important;
            line-height: 150% !important; /* 30px */
            letter-spacing: 3.2px !important;
            text-transform: uppercase !important;
        }   
        .showcase-resp  .content-showcase-resp-head h3 {
            color: #333 !important;
            text-align: center !important;
            font-family: "Vastine" !important;
            font-size: 50px !important;
            font-style: normal !important;
            font-weight: 400 !important;
            line-height: 150% !important; /* 75px */
            margin-top: 22px  !important;
        }
        .showcase-resp .content-showcase-resp {
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            flex-wrap: wrap !important;
            width: 100% !important;
            max-width: 100% !important;
            margin: auto  !important;
        }
        .showcase-resp .step-resp {
            width: 286px !important;
            text-align: center !important;
        }
        .showcase-resp .content-step-resp {
            text-align: center !important;
            display: flex !important;
            justify-content: center !important;
            flex-direction: column !important;
            align-items: center !important;
            height: 220px !important;
            width: 100% !important;
            border-radius: 20px 20px 0px 0px !important;
            background:  lightgray 50% / cover no-repeat !important;
            overflow: hidden !important;
        }
        .showcase-resp .icon-step-resp {
            width: 100px !important;
            height: 100px !important;
            border-radius: 20px !important;
            border: 1px solid rgba(51, 51, 51, 0.30) !important;
            background: rgba(217, 217, 217, 0.26) !important;
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
        }
        .showcase-resp .icon-step-resp svg {
            width: 50px !important;
            height: 50px !important;
            fill: #333333 !important;
        }
        .showcase-resp .icon-step-resp.active svg
        {
            fill: white !important;
            fill-opacity : 0.8 !important;
            
        }
        .showcase-resp .icon-step-resp.active {
            background: linear-gradient(138deg, rgba(98, 146, 158, 0.80) -15.04%, #62929E 104.44%)  !important;
        }
        .showcase-resp .content-showcase-resp h5 {
            color: #333 !important;
            text-align: center !important;
            font-family: "Kanit" !important;
            font-size: 25px !important;
            font-style: normal !important;
            font-weight: 700 !important;
            line-height: 150% !important; /* 37.5px */
            margin-top: 31px  !important;
        }
        .showcase-resp .content-showcase-resp p {
            color: rgba(51, 51, 51, 0.40) !important;
            text-align: center !important;
            font-family: "Kanit" !important;
            font-size: 18px !important;
            font-style: normal !important;
            font-weight: 400 !important;
            line-height: 150% !important; /* 27px */
            margin-top: 10px  !important;
        }
        .showcase-resp .bottom-theme-resp{
            height: 65px !important;
            width: 100% !important;
            background-color: #fff !important;
            display: flex !important;
            flex-direction: row !important;
            flex-wrap: nowrap !important;
            justify-content: space-between !important;
            padding: 17px 20px !important;
            border-radius: 0px 0px 20px 20px !important;
            border-right: 1px solid rgba(51, 51, 51, 0.30) !important;
            border-bottom: 1px solid rgba(51, 51, 51, 0.30) !important;
            border-left: 1px solid rgba(51, 51, 51, 0.30) !important;
        }
        .showcase-resp .bottom-theme-resp .left-bottom-theme-resp {
            color: rgba(51, 51, 51, 0.80) !important;
            font-family: "Kanit" !important;
            font-size: 20px !important;
            font-style: normal !important;
            font-weight: 700 !important;
            line-height: 150% !important; /* 30px */
        }
        .showcase-resp .bottom-theme-resp .right-bottom-theme-resp {
            width: 42px !important;
            height: 40px !important;
            border-radius: 40px !important;
            background: linear-gradient(138deg, rgba(98, 146, 158, 0.80) -15.04%, #62929E 104.44%) !important;
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
        }
        @media screen and (max-width: 499.96px){ 
            .showcase-resp .content-showcase-resp {
                flex-direction: column !important;
                gap: 50px !important;
            }
            .showcase-resp .step-resp {
                width: 100% !important;
                text-align: center !important;
            }
        
            .showcase-resp  .content-showcase-resp-head {
                margin-bottom: 51px  !important;
            }
            .showcase-resp  .content-showcase-resp-head h4 {
            font-size: 18px  !important;
            }
            .showcase-resp  .content-showcase-resp-head h3 {
                font-size: 22px  !important;
                margin-top: 22px  !important;
            }
        }
        @media (min-width: 499.98px) {
            .showcase-resp .content-showcase-resp {
                flex-direction: column !important;
                gap: 50px !important;
            }
            .showcase-resp .step-resp {
                width: 451px !important;
                text-align: center !important;
            }
            .showcase-resp  .content-showcase-resp-head {
                margin-bottom: 51px  !important;
            }
            .showcase-resp  .content-showcase-resp-head h4 {
            font-size: 18px  !important;
            }
            .showcase-resp  .content-showcase-resp-head h3 {
                font-size: 30px  !important;
                margin-top: 22px  !important;
            }
        }
        @media (min-width: 539.98px) {
            .showcase-resp .content-showcase-resp {
                flex-direction: column !important;
                gap: 50px !important;
            }
            .showcase-resp .step-resp {
                width: 451px !important;
                text-align: center !important;
            }
        
            .showcase-resp  .content-showcase-resp-head {
                margin-bottom: 61px  !important;
            }
            .showcase-resp  .content-showcase-resp-head h4 {
            font-size: 18px  !important;
            }
            .showcase-resp  .content-showcase-resp-head h3 {
                font-size: 30px  !important;
                margin-top: 22px  !important;
            }
        }
        @media (min-width: 767.98px) {
            .showcase-resp .content-showcase-resp {
                justify-content:center !important;
                gap: 40px !important;
                flex-direction: row !important;
            }
            .showcase-resp .step-resp {
                width: 324px !important;
                text-align: center !important;
            }
        
            .showcase-resp  .content-showcase-resp-head {
                max-width: 742px !important;
                margin-bottom: 98px  !important;
                width: 100% !important;
            }
            .showcase-resp  .content-showcase-resp-head h4 {
                font-size: 20px  !important;
            }   
            .showcase-resp  .content-showcase-resp-head h3 {
                font-size: 48px  !important;
                margin-top: 22px  !important;
            }
        }
        @media (min-width: 991.98px) {
            .showcase-resp .step-resp {
                width: 265px !important;
            }
            .showcase-resp .content-showcase-resp {
                justify-content:space-between !important;
                gap: 0  !important;
            }
            .showcase-resp  .content-showcase-resp-head h3 {
                font-size: 50px  !important;
                margin-top: 22px  !important;
            }
        }
        @media (min-width: 1111.98px) {
            .showcase-resp .content-showcase-resp {
                justify-content:space-between !important;
                gap: 0  !important;
            }
            .showcase-resp .step-resp {
                width: 306px !important;
            }
        }
        @media (min-width: 1199.98px) {
            .showcase-resp .content-showcase-resp {
                justify-content:space-between !important;
                gap: auto  !important;
            }
            .showcase-resp .step-resp {
                width: 335px !important;
            }
        }
        @media (min-width: 1359.98px) {
            .showcase-resp  .content-showcase-resp-head {
                margin-bottom: 82px  !important;
            }
            .showcase-resp .content-showcase-resp {
                max-width: 100% !important;
            }
            .showcase-resp .step-resp {
                width: 367px !important;
                height: 285px !important;
                background-color: #fff !important;
                border-radius: 20px 20px 0px 0px !important;
            }
        }
        .slider--and--frame .view_image
        {
            width: 100%;
            height: 100%;
        }
        .slider--and--frame iframe {
            width: 100%;
            height: 100%;
        }
        iframe {
            width: 96% !important;
            position: fixed;
            top: 129px;
            transform: translateY(-50%);
            z-index: 100;
            margin: auto;
            display: block !important;
            left: 50%;
            transform: translateX(-50%);
            transition: transform 1s, top 0.4s;
            height: 87vh;
        }
        iframe.hidden {
            visibility: hidden;
            top: 0;
            transform: translate(-50%, -50%) scale(0.1);
        }
        iframe.show {
            visibility: visible;
            top: 50%;
            transform: translate(-50%, -50%) scale(1);
        }
        </style> 
        <style>
            .popup-showcase-resp {
                position: fixed !important;
                top: 0 !important;
                bottom: 0 !important;
                left: 0 !important;
                right: 0 !important;
                z-index: 2 !important;
                width: 100% !important;
                height: 100vh !important;
                overflow: hidden !important;
                background: rgba(0,0,0,0.9) !important;
                transition: all 0.95s ease-out !important;

            }
            .popup-showcase-resp.hidden {
                visibility: hidden !important;
                opacity: 0 !important;
                transition: all 0.95s linear !important;
            }
            .popup-showcase-resp.box {
                visibility: visible !important;
                opacity: 1 !important;
                transition: all 0.95s ease-out !important;
            }
            .theme-item-slide {
                cursor: pointer !important;
            }
            .close {
                position: absolute !important;
                right: 35px !important;
                top: 35px !important;
                width: 50px !important;
                height: 50px !important;
                border-radius: 50% !important;
                border: solid 3px #fff !important;
                color: #fff !important;
                opacity: 0.7 !important;
                background: #000 !important;
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
                z-index: 4 !important;
                cursor: pointer !important;
            }
            .container-popup-gallery-slider-and svg {
                width: 45px !important;
                height: 45px !important;
                color: #fff !important;
            }
            .container-popup-gallery-slider-and path {
                color: #fff !important;
                fill: #fff !important;
            }
        </style>
        <style>
            *,
            *::after,
            *::before {
                box-sizing: border-box !important;
                margin: 0 !important;
                padding: 0 !important;
            }

            * {
                scroll-behavior: smooth !important;
            }
            body, html {
                width: 100% !important;
                height: 100% !important;
                margin: auto !important;
            }
            .container-slider-and {
                width: 100% !important;
                height: 100% !important;
                overflow: hidden !important;
                position: relative !important;
            }
            .slider-and {
                height: 100% !important;
                display: flex !important;
                transition: all 0.5s !important;
            }
            .gallery-and {
                width: 100% !important;
                height: 100% !important;
                flex-basis: 100% !important;
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
                padding: 20px !important;
            }
            .control-slide-left-and {
                position: absolute !important;
                top: 50% !important;
                transform: translateY(-50%) !important;
                left: 50px !important;
                cursor: pointer !important;
                z-index: 1 !important;
            }
            .control-slide-right-and {
                position: absolute !important;
                top: 50% !important;
                transform: translateY(-50%) !important;
                right: 50px !important;
                cursor: pointer !important;
                z-index: 1 !important;
            }
            .conroll-round-slide-and {
                height: 20px !important;
            
                position: absolute !important;
                bottom: 50px !important;
                left: 50% !important;
                transform: translateX(-50%) !important;
                width: 100% !important;
                z-index: 2 !important;
            }
            .conroll-round-slide-and ul {
                display: flex !important;
                flex-direction: row !important;
                justify-content: center !important;
                align-items: center !important;
                gap: 20px !important;
            }
            .conroll-round-slide-and ul li {
                width: 20px !important;
                height: 20px !important;
                border-radius: 50% !important;
                list-style-type: none !important;
                cursor: pointer !important;
                background: #fff !important;
            }
            .conroll-round-slide-and ul li.active {
                width: 20px !important;
                height: 20px !important;
                border-radius: 50% !important;
                background: transparent !important;
                list-style-type: none !important;
                cursor: pointer !important;
                border: solid 1px #21171746 !important;
                border: solid 1px #fff !important;
            }
            .body-gallery-slide-and {
                width: 100% !important;
                height: 100% !important;
                overflow: hidden !important;
            }
        </style>
        <style>
            /*popup*/
            .container--popup--showcase {
                display: flex;
                align-items: center;
                justify-content: center;
                position: fixed !important;
                top: 0 !important;
                bottom: 0 !important;
                left: 0 !important;
                right: 0 !important;
                z-index: 99 !important;
                width: 100% !important;
                height: 100vh !important;
                overflow: hidden !important;
                background: rgba(0,0,0,0.93) !important;
                transition: all 0.75s ease-out !important;
            }
            .container--popup--showcase.show {
                visibility: visible !important;
                opacity: 1 !important;
            }
            .container--popup--showcase.hidden {
                visibility: hidden !important;
                opacity: 0 !important;
            }
            .close--popup--showcase {
                position: absolute !important;
                right: 15px !important;
                top: 15px !important;
                width: 30px !important;
                height: 30px !important;
                border-radius: 50% !important;
                border: solid 3px #fff !important;
                color: #fff !important;
                opacity: 0.7 !important;
                background: #000 !important;
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
                z-index: 105 !important;
                cursor: pointer !important;
            }
        </style>

        <div class="template--resp" id="template-preview"></div>
        <section id="showcase-resp" class="showcase-resp">
            <div class="container-resp">
                <div class="content-showcase-resp-head">
                    <h4 class="title-resp">
                        {{c['field_title1']}}
                    </h4>
                    <h3 class="title-resp">
                        {{c['field_subtitle']}}
                    </h3>
                </div>
                <div class="content-showcase-resp step">

                    {% for size in 0 .. (paragraphs_length - 1) %}

                    <div class="step-1-resp step-resp theme-item-slide gallery-slider-and" onclick="openRequestedPopup()" style="cursor: pointer;">
                        <div class="content-step-1-resp content-step-resp">
                            <img src="{{paragraphs[size]['field_image1']['image'].url}}" alt="" style="object-fit: contain;" class="img-gallery">
                        </div>
                        <div class="bottom-theme-resp">
                        <div class="left-bottom-theme-resp">
                                {{ paragraphs[size]['field_title'] }}
                        </div>
                        <div class="right-bottom-theme-resp">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M18.2667 9.66683C16.5834 5.7585 13.4167 3.3335 10.0001 3.3335C6.58339 3.3335 3.41672 5.7585 1.73339 9.66683C1.6875 9.77197 1.66382 9.88545 1.66382 10.0002C1.66382 10.1149 1.6875 10.2284 1.73339 10.3335C3.41672 14.2418 6.58339 16.6668 10.0001 16.6668C13.4167 16.6668 16.5834 14.2418 18.2667 10.3335C18.3126 10.2284 18.3363 10.1149 18.3363 10.0002C18.3363 9.88545 18.3126 9.77197 18.2667 9.66683ZM10.0001 15.0002C7.35839 15.0002 4.85839 13.0918 3.41672 10.0002C4.85839 6.9085 7.35839 5.00016 10.0001 5.00016C12.6417 5.00016 15.1417 6.9085 16.5834 10.0002C15.1417 13.0918 12.6417 15.0002 10.0001 15.0002ZM10.0001 6.66683C9.34078 6.66683 8.69632 6.86233 8.14816 7.2286C7.59999 7.59487 7.17275 8.11546 6.92046 8.72455C6.66816 9.33364 6.60215 10.0039 6.73077 10.6505C6.85939 11.2971 7.17686 11.891 7.64303 12.3572C8.10921 12.8234 8.70315 13.1408 9.34975 13.2694C9.99636 13.3981 10.6666 13.3321 11.2757 13.0798C11.8848 12.8275 12.4053 12.4002 12.7716 11.8521C13.1379 11.3039 13.3334 10.6594 13.3334 10.0002C13.3334 9.11611 12.9822 8.26826 12.3571 7.64314C11.732 7.01802 10.8841 6.66683 10.0001 6.66683ZM10.0001 11.6668C9.67042 11.6668 9.34819 11.5691 9.07411 11.3859C8.80002 11.2028 8.5864 10.9425 8.46026 10.638C8.33411 10.3334 8.3011 9.99831 8.36541 9.67501C8.42972 9.35171 8.58846 9.05474 8.82154 8.82165C9.05463 8.58856 9.3516 8.42983 9.6749 8.36552C9.99821 8.30121 10.3333 8.33422 10.6379 8.46036C10.9424 8.58651 11.2027 8.80013 11.3858 9.07421C11.569 9.34829 11.6667 9.67053 11.6667 10.0002C11.6667 10.4422 11.4911 10.8661 11.1786 11.1787C10.866 11.4912 10.4421 11.6668 10.0001 11.6668Z" fill="white"/>
                                </svg>
                        </div>
                        </div>
                    </div>

                    {% endfor %} 

                </div>
            </div>
        </section>
        
        <iframe class="hidden"
            src="https://staydirecttech.com/template1">
        </iframe>
        <!-- End bloc showcase-->

        <div class="container--popup--showcase hidden">
            <div class="close--popup--showcase" onclick="closePopup()"> 
                <!--?xml version="1.0" encoding="UTF-8"?-->
                <svg width="45" height="45" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"></rect><path d="M14 14L34 34" stroke="#fff" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path><path d="M14 34L34 14" stroke="#fff" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </div>
        </div>


        <script>
        
        let showcase_rate = document.getElementById("showcase-resp");
        if( document.body.contains(showcase_rate) )  {
            
            let items_theme = document.querySelectorAll(".gallery-slider-and");
            let popup = document.querySelector(".container--popup--showcase");
            let iframe = document.querySelector("iframe");
            let close = document.querySelector(".close--popup--showcase");

            items_theme.forEach( function( item_theme , index ) {
                item_theme.addEventListener( "click", function(){
                    sectionIndex = index + 1;
                    popup.classList.remove("hidden");
                    popup.classList.add("show");
                    iframe.setAttribute('src', "{{base_url}}/template"+sectionIndex);
                    setTimeout(() => {
                        iframe.classList.remove("hidden");
                        iframe.classList.add("show");
                    }, 1000);
                
                } );
            });
            close.addEventListener('click', function(){
                popup.classList.add("hidden");
                popup.classList.remove("show");
                iframe.classList.remove("show");
                iframe.classList.add("hidden");
            });
        }

        </script>

{% endblock %}