{% extends get_module_path('templating') ~ "/templates/misc/block.html.twig" %}
{% block templating_content %}

  {% set item_name = 'block--staydirect-template-1-regist-full.html' %} 
  {% set path_css = '/themes/custom/staydirect_template_1/templates/templating/css/'~ item_name ~'.css' %}
  {% set css = include(path_css) %} 
  {{render_css(css,'block__staydirect_template_1_regist_full')}}
 
 {% set c = block_parser(content) %}
<style>
    .log-reg #edit-name--description,
    .log-reg #edit-mail--description,
    .log-reg .password-suggestions,
    .log-reg #edit-pass--description,
    .content--right p.mb-auto {
        display: none !important;
      }
    label {
        cursor: default;
    }
    .container--spends {
        gap: 0px !important;
    }
    .log-reg form input[type="submit"] {
        margin-top: 0 !important;
    }
    .std--useradmin .useradmin--sidebar-left img {
        /* width: 35px;
        display: none !important; */
        top: 27% !important;
    }

    #edit-pass + img {
        display: none;
    }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
{% if not is_login() %}
    <div class="log-reg">
        <div class="container-resp">
        <div class="left ">
            <div class="container-left reg--container-left">
                <h1 onclick='location.href="{{base_url()}}"'>
                    Register - Hotel rental
                </h1>   
                <div class="content-left reg--content-left" id="register-tpl-form" style="position: relative;">
                    {{user_register()}}
                    <div class="description--register-forget d-flex justify-content-between" style="width: 95%;">
                        <span>
                            <a href="{{base_url()}}/login" class="st-forgot-pass">Login </a>
                        </span>
                        <span>
                            <a href="{{base_url()}}/user/password" class="st-forgot-pass">Forgot password?</a> 
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="right" style="     
        width: 41%;
        height: 100vh;
        background-image: url(  {{ c['field_media1']['image'].url }} );
        background-position: center center;
        background-repeat: no-repeat;
        background-size: cover;">
            <div class="container--right-login">
                <h2 style="color: #fff; cursor: pointer; text-align: center;" onclick='location.href="{{base_url()}}"'>
                    Go to <br> Hotel rental
                </h2>
            </div>
        </div>
        </div>
    </div>
    <script>
        if( document.body.contains( document.querySelector(".log-reg form .std--useradmin.container--user-edit.container--user")) ) {
          document.querySelector(".log-reg form .std--useradmin.container--user-edit.container--user").classList.remove("container");
          document.querySelector(".log-reg form .std--useradmin.container--user-edit.container--user #user-info").classList.remove("col-lg-9")
        }
        var iconElement = document.createElement('i');
        iconElement.className = 'bi bi-question-circle ms-2';
        var iconElement2 = document.createElement('i');
        iconElement2.className = 'bi bi-question-circle ms-2';
        
        var labelEmail = document.querySelector('label[for="edit-mail"]');
        labelEmail.setAttribute('title', 'The email address is not made public. It will only be used if you need to be contacted about your account or for opted-in notifications.');
        labelEmail.appendChild(iconElement);
        
        var labelpassword = document.querySelector('label[for="edit-name"]');
        labelpassword.setAttribute('title', "Several special characters are allowed, including space, period (.), hyphen (-), apostrophe ('), underscore (_), and the @ sign.");
        labelpassword.appendChild(iconElement2);
        
        document.addEventListener("DOMContentLoaded", function() {
            function setPlaceholder(selector, placeholder) {
                var element = document.querySelector(selector);
                if (element) {
                    element.setAttribute('placeholder', placeholder);
                }
            }
        
            setPlaceholder('#register-tpl-form #edit-name', 'Username');
            setPlaceholder('#register-tpl-form #edit-mail', 'Email address');
            setPlaceholder('#register-tpl-form #edit-pass-pass1', 'Password');
            setPlaceholder('#register-tpl-form #edit-pass-pass2', 'Confirm password');
        });
    </script>   
{% else %} 
    {% set url = '' ~ base_url() ~ '/user' %}
    {% do redirect(url) %}
{% endif %}
 
{% endblock %}