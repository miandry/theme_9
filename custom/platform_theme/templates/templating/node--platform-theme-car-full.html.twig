{% extends get_module_path('templating') ~ "/templates/misc/node.html.twig" %}
{% block templating_content %}

  {% set n = (node_parser(node)) %}
  {% set images = n.field_images %}
  {% set features = n.field_features %}
  {% set rules = n.field_rules_and_policies %}
  {% set specifications = n.field_specifications %}
  {% set amenities = n.field_amenities %}
  {% set related = n.field_related %}


  {{ attach_library('platform_theme/booking-datepicker') }}
  {{ attach_library('porto/owl.carousel') }}

<section class="bg-light ">
					<div class="container">
						<div class="row">

							<div class="col-md-12 align-self-center p-static order-2 text-center">

								<h1 class="text-dark font-weight-bold text-8">{{ n.title }}</h1>

							</div>
						</div>
					</div>
				</section>
                	<div class="container py-4">

                    <div class="row">
                      <div class="col">
                          {% if(images) %}
                        <div
                          class="owl-carousel owl-theme nav-inside nav-inside-edge nav-squared nav-with-transparency nav-dark"
                          data-plugin-options="{'items': 1, 'margin': 10, 'loop': false, 'nav': true, 'dots': true}">
                            {% for img in images %}
                          <img alt="" class="img-fluid" src="{{ img.image.url }}"/>
                            {% endfor %}
                        </div>
                          {% endif %}
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12 mb-4 mb-md-0">
                        <strong class="text-uppercase text-1 mr-3 text-dark float-left position-relative top-2">
                          Share
                        </strong>
                        {{ content.addtoany }}
                      </div>
                    </div>

                    <div class="row pt-4 mt-2">


                      <div class="col-md-7 mb-4 mb-md-0">
                        <div>
                          <h2 class="text-color-dark font-weight-normal text-5 mb-2">
                            <strong class="font-weight-extra-bold">{{ 'Description'|t}}</strong></h2>
                            {{ n.body|first.value|raw }}
                        </div>
                        <div class="row">
                          <div class="col">
                            <h4>{{ 'Features'|t }}</h4>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <ul class="list list-icons list-icons-style-2"> {% for item in features %}
                              <li> <i class="fas fa-check"></i> {{item.title}} </li> {% endfor %} </ul>
                        </div>
                        <div class="row">
                          <div class="col">
                            <h4>Amenities</h4>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <ul class="list list-icons list-icons-style-2"> {% for item in amenities %}
                              <li><i class="fas fa-check"></i> {{item.title}}</li> {% endfor %} </ul>
                        </div>

                        <div class="row">
                          <div class="col">
                            <h4>Specifications</h4>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <ul class="list list-icons list-icons-style-2"> {% for item in specifications %}
                              <li><i class="fas fa-check"></i> {{item.title}}</li> {% endfor %} </ul>
                        </div>
                        <div class="row">
                          <div class="col">
                            <h4>Rules and policies</h4>
                          </div>
                        </div>
                        <div class="col-md-12">
                          <ul class="list list-icons list-icons-style-2"> {% for item in rules %}
                              <li><i class="fas fa-check"></i> {{item.title}}</li> {% endfor %} </ul>
                        </div>

                        <div class="section-comments">
                          {{ content.comment }}

                        </div>

                      </div>
                      <div class="col-md-5 position-relative">
                        <div>
                          <div class="booking-form call-to-action featured featured-primary">
                            <form method="get" action="/booking-process" style="width: 100%">
                              <h4 class="font-weight-bold text-uppercase text-4 mb-3">Dates</h4>
                              <table class="shop_table cart-totals mb-3">
                                <tbody>
                                <tr>
                                  <td class="border-top-0 pt-0">
                                    <input type="hidden" name="carid" value="{{ n.nid }}"/>
                                    <input id="datepickerVal" value="0" class="Dym form-check-input" type="hidden" name="booking-range" />
                                    <input id="datepicker" name="booking-range-date"  required="" placeholder="Select your dates   >"  style="width: 100%"/>
                                  </td>
                                </tr>
                                    {% for key,item in addons %}
                                      {% if item.type =="addon_additional_price" %}
                                      <tr class="shipping">
                                        <td colspan="2">
                                          <div class="form-check">
                                            <span id="myval" style="display: none" >{{ item.price }}</span>
                                            <input class="Dym form-check-input" style="pointer-events: none;"  type="checkbox" value="{{ item.price }}"  checked="true" name="{{ item.name }}" >
                                            <label class="form-check-label" for="tabContent9Checkbox">
                                              {{ item.name }} : {{ item.price }} $
                                            </label>
                                          </div>
                                        </td>
                                      </tr>
                                      {% endif %}
                                      {% if item.type =="addons" %}
                                          <tr class="shipping">
                                           <td colspan="2">
                                               <div class="form-check">
                                                 <span id="myval" style="display: none" >{{ item.price }}</span>
                                                 <input class="Dym form-check-input"  value="0" type="checkbox" name="{{ item.name }}" >
                                                 <label class="form-check-label" for="tabContent9Checkbox">
                                                   {{ item.name }} : {{ item.price }} $
                                                 </label>
                                               </div>
                                           </td>
                                         </tr>
                                      {% endif %}
                                      {% if item.type =="select_addons" %}
                                        <tr class="shipping">
                                          <td colspan="2">
                                                <strong class="d-block text-color-dark mb-2">{{ item.name }}</strong>
                                                      <div  class="d-flex flex-column">
                                                        <select class="Dym form-select form-control h-auto py-2 valid"   name="{{ item.name }}"  aria-invalid="false">
                                                          <option value="0">- None -</option>
                                                          {% for keychild,child in item.list %}
                                                            <option value="{{ child.name }}----{{ child.price }}">{{ child.name }} : {{ child.price }} $</option>
                                                          {% endfor %}
                                                        </select>
                                                      </div>
                                          </td>
                                        </tr>
                                      {% endif %}
                                    {% endfor %}

                                <tr class="total">
                                  <td>
                                    <strong class="text-color-dark text-3-5">Total</strong>
                                  </td>
                                  <td class="text-end">
                                    <strong class="text-color-dark">$<span id="total_prix" class="amount text-color-dark text-5">0</span></strong>
                                  </td>
                                </tr>
                                  <td colspan="2">
                                    Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our privacy policy.
                                  </td>
                                </tr>
                                </tbody>
                              </table>
                              <button id="btn-booking" type="submit" class="hidden btn btn-dark btn-modern w-100 text-uppercase bg-color-hover-primary border-color-hover-primary border-radius-0 text-3 py-3">Request to book <i class="fas fa-arrow-right ms-2"></i></button>
                            </form>
                        </div>
                      </div>
                    </div>



                    <div class="row">
                      <div class="col">

                        <hr class="mt-0">
                        <h3 class="font-weight-semibold text-4 mb-3">RELATED SHOPS</h3>
                        <div class="products row">
                          <div class="col">
                            <div class="owl-carousel owl-theme nav-style-1 nav-outside nav-outside nav-dark mb-0" data-plugin-options="{'loop': false, 'autoplay': false, 'items': 4, 'nav': true, 'dots': false, 'margin': 20, 'autoplayHoverPause': true, 'autoHeight': true, 'stagePadding': '75', 'navVerticalOffset': '50px'}">
                              {% for item in related %}
                                {% set related_item = (node_parser(item.nid)) %}
                                {% set related_img = related_item.field_images|first.image.url %}
                                {% set url = related_item.field_url.url %}
                                <div class="product mb-0">

                                  <div class="product-thumb-info border-0 mb-3">
                                    <a href="shop-product-sidebar-left.html">
                                      <div class="product-thumb-info-image">
                                        <img alt="" style="height: 200px;" class="img-fluid" src="{{related_img}}">
                                      </div>
                                    </a>
                                  </div>
                                  <div class="d-flex justify-content-between">
                                    <div>
                                      <h3 class="text-3-5 font-weight-medium font-alternative text-transform-none line-height-3 mb-0"><a href="shop-product-sidebar-right.html" class="text-color-dark text-color-hover-primary">{{related_item.title}}</a></h3>
                                    </div>
                                    <a href="{{url}}" class="text-decoration-none text-color-default text-color-hover-dark text-4">
                                      <i class="icon-eye icons"></i>
                                    </a>
                                  </div>
                                  <div title="Rated 5 out of 5">
                                    <input type="text" class="d-none" value="5" title="" data-plugin-star-rating data-plugin-options="{'displayOnly': true, 'color': 'default', 'size':'xs'}">
                                  </div>

                                </div>

                              {% endfor %}

                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>

   {% endblock %}
